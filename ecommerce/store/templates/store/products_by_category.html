{% extends 'store/main.html' %}
{% load static %}
{% block content %}

    <div class="row">
        <form method="get" class="mb-4">
            <label for="manufacturer-select" class="form-label">Filtrar por fabricante:</label>
            <select id="manufacturer-select" name="manufacturer" class="form-select" onchange="this.form.submit()">
                <option value="">Todos los fabricantes</option>
                {% for manufacturer in manufacturers %}
                    <option value="{{ manufacturer.manufacturer__id }}" 
                            {% if selected_manufacturer == manufacturer.manufacturer__id|stringformat:"s" %}selected{% endif %}>
                        {{ manufacturer.manufacturer__name }}
                    </option>
                {% endfor %}
            </select>
        </form>
    </div>

    <div class="row">
        {% for product in products %}
            <div class="col-lg-4">
                <img class="thumbnail" src="{{product.imageURL}}">
                <div class="box-element product">
                    <h6><strong>{{product.name}}</strong></h6>
                    <hr>
                    <button data-product={{product.id}} data-action="add" class="btn btn-outline-secondary add-btn update-cart">Añadir</button>
                    <a class="btn btn-outline-success" href="#">Ver</a>
                    <h4 style="display: inline-block; float: right"><strong>{{product.price}}€</strong></h4>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock content %}

